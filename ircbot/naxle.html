<!doctype html>
<html>
<head>
	    <script type="text/javascript" src="../jquery-1.9.1.min.js"></script>
        <script src='//vrici.lojban.org:3000/socket.io/socket.io.js'></script>
        <script>
            var socket = io.connect('//vrici.lojban.org:3000');
            socket.on('returner', function(data) {
                $('#messages').val(data.message);
            });
            socket.on('error', function() { console.error(arguments) });
            socket.on('message', function() { console.log(arguments) });
            var sendinput = function (prefix) {
            	if (typeof(prefix)===undefined){prefix=""}else{prefix+=": "};
				try {
				  var input = $('#input_textarea').val();
				  if (input!==""){socket.emit('i am client', {data: prefix+input});}
			    } catch (e) {
			      return;
			    }
			}
        </script>
        <title>lo naxle be fi La Mensi</title>
</head>
<body>
<meta charset='utf-8' />
<style>
html, body{
margin: 0;
padding: 0;
}

.content{
float: left;
width: 30%;
border:none;
margin: 0.5em;
}

.rightcontent{
float: right;
width: 65%;
border:none;
margin-right: 0.5em;
margin-top: 0.5em;
}

.hspacer{
width:5%;
float:left;
}

.clear{
clear:both;
}
</style>

<div class="content">
<span style="font: 12px arial, sans-serif;margin-top:0;margin:0.5em;"><i>La Mensi zo'u: pa'o lo minra</i></span>
<center style="font: 15px arial, sans-serif;margin-top:0;margin:0.5em;">i se pruce fa di'e</center>
<form id="form1" name="form1" method="post" action="">
  <textarea id="input_textarea" style="width:100%; font: 18px sans-serif;" rows="8" autofocus placeholder="ko ciska fi ti"></textarea>
</form>
<script>

//setup before functions
var typingTimer;                //timer identifier
var doneTypingInterval = 500;  //time in ms, 5 second for example

$('#input_textarea').bind( "keyup",
  function(e) {
	clearTimeout(typingTimer);
    typingTimer = setTimeout(sendinputi, doneTypingInterval);
} );

$('#input_textarea').bind( "keydown",
  function(e) {
    clearTimeout(typingTimer);
  } );

function sendinputi() {
	var input = $('#input_textarea').val();
	socket.emit('i am client', {data: input});
}
</script>
<center style="font: 15px arial, sans-serif;margin-top:2em;margin:0.5em;">i te pruce fa di'e</center>
<textarea readonly id='messages' style="background-color: #FEFFE1; width:100%; font: 18px sans-serif;" rows="8"></textarea>
</div>
<div class="hspacer">&nbsp;</div>
<div class="rightcontent">
	<style>
	.but{
		height: 30px;
		margin:0.2em;
	}
	</style>
<button type="button" onclick="sendinput('exp');" class="but" style="width:auto;">new grammar</button> <button type="button" onclick="sendinput('raw');" class="but" style="width:auto;">raw output</button> <button type="button" onclick="sendinput('off');" class="but" style="width:auto;">standard grammar</button> <button type="button" onclick="sendinput('yacc');" class="but" style="width:auto;">YACC</button> <button type="button" onclick="sendinput('gerna');" class="but" style="width:auto;">jbofi'e</button> - parsers<br/>
<button type="button" onclick="sendinput('zei');" class="but" style="width:auto;">Split</button> compound particles and turn lujvo into zei-lujvo. <button type="button" onclick="sendinput('anji');" class="but" style="width:auto;">anji (hanzi/kanji)</button><hr>
<button type="button" onclick="sendinput('en');" class="but" style="width:80px;">English</button> - search in the English dictionary. <button type="button" onclick="sendinput('gloss');" class="but" style="width:120px;">Lojban &gt; English</button><br/>
<button type="button" onclick="sendinput('jbo');" class="but" style="width:80px;">la Lojban</button> - mitysisku se pi'o lo lojbo vlaste<br/>
<button type="button" onclick="sendinput('es');" class="but" style="width:80px;">español</button> - búsqueda en el diccionario español<br/>
<button type="button" onclick="sendinput('f@');" class="but" style="width:80px;">français</button> - recherche dans le dictionnaire français (facile)<br/>
<button type="button" onclick="sendinput('de');" class="but" style="width:80px;">Deutsch</button> - Suche im Deutsch Wörterbuch<br/>
<button type="button" onclick="sendinput('eo');" class="but" style="width:80px;">Esperanto</button> - Serĉo en Esperanta vortaro<br/>
<button type="button" onclick="sendinput('zh');" class="but" style="width:80px;">汉语</button> - 汉语字典搜索<br/>
<button type="button" onclick="sendinput('loglan');" class="but" style="width:80px;">Loglan</button> <button type="button" onclick="sendinput('loi');" class="but" style="width:auto;">Loglan &lt; Lojban</button> <button type="button" onclick="sendinput('coi');" class="but" style="width:auto;">Loglan &gt; Lojban</button> <button type="button" onclick="sendinput('toki');" class="but" style="width:80px;">toki pona</button> <button type="button" onclick="sendinput('laadan');" class="but" style="width:80px;">Láadan</button>
<h3>type mode (advanced users):</h3>The results will appear as you type.
<ul>
<li>Parsers: type &quot;exp:&quot; (experimental), &quot;off:&quot; (camxes), &quot;gerna:&quot; (jbofi'e), or &quot;yacc:&quot; (official yacc) followed by the text to show the structure of sentences.</li>
<li>Lojban dictionary: type &quot;language-code: word&quot;, where language code is one of jbo,en,ru,es,fr,f@,ja,de,eo,zh. This searches in both directions.</li>
<li>Type &quot;language-code:word&quot; (i.e. without a space after &quot;:&quot;) to get a shorter definition.</li>
<li>Type &quot;zei:&quot; followed by the text to split all compound particles and turn lujvo into zei-lujvo.</li>
<li>&quot;selmaho: ca'a&quot; gives &quot;CAhA&quot;, &quot;selmaho: CAhA&quot; gives &quot;bi'ai, ca'a, ...&quot;</li>
<li>&quot;rafsi: kulnu&quot; gives &quot;klu&quot;, &quot;rafsi: klu&quot; gives &quot;kulnu&quot;</li>
<li>Other conlang dictionaries: &quot;toki:&quot;, &quot;laadan:&quot;, &quot;loglan:&quot;</li>
<li>Lojban &lt;-&gt; Loglan conversion (incomplete): &quot;coi:&quot;, &quot;loi:&quot;</li>
<li>&quot;Tatoeba: klama&quot; returns a random example sentence using &quot;klama&quot;</li><!--Delayed messaging: type &quot;mensi: doi user message&quot; to send &quot;message&quot; to &quot;user&quot; when they return.-->
</ul>
</div>
<div class="clear"></div>
</body>
</html>